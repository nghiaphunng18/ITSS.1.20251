{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///home/nghiaphunng18/HustTutorial/ITSS.1.20251/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst axiosInstance = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  timeout: 10000,\n});\n\n// Request interceptor\naxiosInstance.interceptors.request.use(\n  (config) => {\n    // You can add auth tokens here if needed\n    // const token = localStorage.getItem('token');\n    // if (token) {\n    //   config.headers.Authorization = `Bearer ${token}`;\n    // }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor\naxiosInstance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    // Handle errors globally\n    if (error.response) {\n      // Server responded with error\n      console.error(\"API Error:\", error.response.data);\n    } else if (error.request) {\n      // Request made but no response\n      console.error(\"Network Error:\", error.message);\n    } else {\n      // Something else happened\n      console.error(\"Error:\", error.message);\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAAgB,gJAAK,CAAC,MAAM,CAAC;IACjC,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;AAEA,sBAAsB;AACtB,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CACpC,CAAC;IACC,yCAAyC;IACzC,+CAA+C;IAC/C,eAAe;IACf,sDAAsD;IACtD,IAAI;IACJ,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,uBAAuB;AACvB,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,yBAAyB;IACzB,IAAI,MAAM,QAAQ,EAAE;QAClB,8BAA8B;QAC9B,QAAQ,KAAK,CAAC,cAAc,MAAM,QAAQ,CAAC,IAAI;IACjD,OAAO,IAAI,MAAM,OAAO,EAAE;QACxB,+BAA+B;QAC/B,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;IAC/C,OAAO;QACL,0BAA0B;QAC1B,QAAQ,KAAK,CAAC,UAAU,MAAM,OAAO;IACvC;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///home/nghiaphunng18/HustTutorial/ITSS.1.20251/contexts/ToastContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useCallback } from \"react\";\nimport * as Toast from \"@radix-ui/react-toast\";\nimport { FiCheckCircle, FiAlertCircle, FiInfo, FiX } from \"react-icons/fi\";\n\ntype ToastType = \"success\" | \"error\" | \"info\";\n\ninterface ToastMessage {\n  id: string;\n  type: ToastType;\n  title: string;\n  description?: string;\n}\n\ninterface ToastContextType {\n  showToast: (type: ToastType, title: string, description?: string) => void;\n  success: (title: string, description?: string) => void;\n  error: (title: string, description?: string) => void;\n  info: (title: string, description?: string) => void;\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\n\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\n  const [toasts, setToasts] = useState<ToastMessage[]>([]);\n\n  const showToast = useCallback(\n    (type: ToastType, title: string, description?: string) => {\n      const id = Math.random().toString(36).substr(2, 9);\n      const newToast: ToastMessage = { id, type, title, description };\n\n      setToasts((prev) => [...prev, newToast]);\n\n      // Auto remove after 5 seconds\n      setTimeout(() => {\n        setToasts((prev) => prev.filter((toast) => toast.id !== id));\n      }, 5000);\n    },\n    []\n  );\n\n  const success = useCallback(\n    (title: string, description?: string) => {\n      showToast(\"success\", title, description);\n    },\n    [showToast]\n  );\n\n  const error = useCallback(\n    (title: string, description?: string) => {\n      showToast(\"error\", title, description);\n    },\n    [showToast]\n  );\n\n  const info = useCallback(\n    (title: string, description?: string) => {\n      showToast(\"info\", title, description);\n    },\n    [showToast]\n  );\n\n  const removeToast = (id: string) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  };\n\n  const getIcon = (type: ToastType) => {\n    switch (type) {\n      case \"success\":\n        return <FiCheckCircle className=\"w-5 h-5\" />;\n      case \"error\":\n        return <FiAlertCircle className=\"w-5 h-5\" />;\n      case \"info\":\n        return <FiInfo className=\"w-5 h-5\" />;\n    }\n  };\n\n  const getColors = (type: ToastType) => {\n    switch (type) {\n      case \"success\":\n        return \"bg-green-50 border-green-200 text-green-900\";\n      case \"error\":\n        return \"bg-red-50 border-red-200 text-red-900\";\n      case \"info\":\n        return \"bg-blue-50 border-blue-200 text-blue-900\";\n    }\n  };\n\n  const getIconColor = (type: ToastType) => {\n    switch (type) {\n      case \"success\":\n        return \"text-green-600\";\n      case \"error\":\n        return \"text-red-600\";\n      case \"info\":\n        return \"text-blue-600\";\n    }\n  };\n\n  return (\n    <ToastContext.Provider value={{ showToast, success, error, info }}>\n      <Toast.Provider swipeDirection=\"right\">\n        {children}\n        {toasts.map((toast) => (\n          <Toast.Root\n            key={toast.id}\n            className={`${getColors(\n              toast.type\n            )} rounded-lg border-2 p-5 shadow-xl data-[state=open]:animate-slideIn data-[state=closed]:animate-hide data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:animate-swipeOut`}\n            onOpenChange={(open) => {\n              if (!open) removeToast(toast.id);\n            }}\n          >\n            <div className=\"flex items-start gap-4\">\n              <div className={getIconColor(toast.type)}>\n                {getIcon(toast.type)}\n              </div>\n              <div className=\"flex-1\">\n                <Toast.Title className=\"font-semibold text-base\">\n                  {toast.title}\n                </Toast.Title>\n                {toast.description && (\n                  <Toast.Description className=\"mt-1.5 text-sm opacity-90\">\n                    {toast.description}\n                  </Toast.Description>\n                )}\n              </div>\n              <Toast.Close className=\"opacity-70 hover:opacity-100 transition-opacity\">\n                <FiX className=\"w-5 h-5\" />\n              </Toast.Close>\n            </div>\n          </Toast.Root>\n        ))}\n        <Toast.Viewport className=\"fixed top-0 right-0 flex flex-col gap-3 w-[420px] max-w-full m-0 p-6 list-none z-50 outline-none\" />\n      </Toast.Provider>\n    </ToastContext.Provider>\n  );\n}\n\nexport function useToast() {\n  const context = useContext(ToastContext);\n  if (context === undefined) {\n    throw new Error(\"useToast must be used within a ToastProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAsBA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IAEvD,MAAM,YAAY,IAAA,oNAAW,EAC3B,CAAC,MAAiB,OAAe;QAC/B,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;QAChD,MAAM,WAAyB;YAAE;YAAI;YAAM;YAAO;QAAY;QAE9D,UAAU,CAAC,OAAS;mBAAI;gBAAM;aAAS;QAEvC,8BAA8B;QAC9B,WAAW;YACT,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;QAC1D,GAAG;IACL,GACA,EAAE;IAGJ,MAAM,UAAU,IAAA,oNAAW,EACzB,CAAC,OAAe;QACd,UAAU,WAAW,OAAO;IAC9B,GACA;QAAC;KAAU;IAGb,MAAM,QAAQ,IAAA,oNAAW,EACvB,CAAC,OAAe;QACd,UAAU,SAAS,OAAO;IAC5B,GACA;QAAC;KAAU;IAGb,MAAM,OAAO,IAAA,oNAAW,EACtB,CAAC,OAAe;QACd,UAAU,QAAQ,OAAO;IAC3B,GACA;QAAC;KAAU;IAGb,MAAM,cAAc,CAAC;QACnB,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK;IAC1D;IAEA,MAAM,UAAU,CAAC;QACf,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,+JAAa;oBAAC,WAAU;;;;;;YAClC,KAAK;gBACH,qBAAO,8OAAC,+JAAa;oBAAC,WAAU;;;;;;YAClC,KAAK;gBACH,qBAAO,8OAAC,wJAAM;oBAAC,WAAU;;;;;;QAC7B;IACF;IAEA,MAAM,YAAY,CAAC;QACjB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;QACX;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;QACX;IACF;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAW;YAAS;YAAO;QAAK;kBAC9D,cAAA,8OAAC,6KAAc;YAAC,gBAAe;;gBAC5B;gBACA,OAAO,GAAG,CAAC,CAAC,sBACX,8OAAC,yKAAU;wBAET,WAAW,GAAG,UACZ,MAAM,IAAI,EACV,yOAAyO,CAAC;wBAC5O,cAAc,CAAC;4BACb,IAAI,CAAC,MAAM,YAAY,MAAM,EAAE;wBACjC;kCAEA,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAW,aAAa,MAAM,IAAI;8CACpC,QAAQ,MAAM,IAAI;;;;;;8CAErB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,0KAAW;4CAAC,WAAU;sDACpB,MAAM,KAAK;;;;;;wCAEb,MAAM,WAAW,kBAChB,8OAAC,gLAAiB;4CAAC,WAAU;sDAC1B,MAAM,WAAW;;;;;;;;;;;;8CAIxB,8OAAC,0KAAW;oCAAC,WAAU;8CACrB,cAAA,8OAAC,qJAAG;wCAAC,WAAU;;;;;;;;;;;;;;;;;uBAvBd,MAAM,EAAE;;;;;8BA4BjB,8OAAC,6KAAc;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIlC;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///home/nghiaphunng18/HustTutorial/ITSS.1.20251/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport axios from \"@/lib/axios\";\nimport { useToast } from \"./ToastContext\";\n\nexport type UserRole = \"ADMINISTRATOR\" | \"TEACHER\" | \"STUDENT\";\n\nexport interface User {\n  id: string;\n  email: string;\n  name: string;\n  role: UserRole;\n  avatar?: string;\n  bio?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => void;\n  isAuthenticated: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n  const pathname = usePathname();\n  const toast = useToast();\n\n  // Extract locale from pathname\n  const locale = pathname?.split(\"/\")[1] || \"vi\";\n\n  useEffect(() => {\n    // Check if user is already logged in (from localStorage or session)\n    const checkAuth = () => {\n      const storedUser = localStorage.getItem(\"user\");\n      if (storedUser) {\n        try {\n          const parsedUser = JSON.parse(storedUser);\n          setUser(parsedUser);\n        } catch (error) {\n          console.error(\"Failed to parse stored user:\", error);\n          localStorage.removeItem(\"user\");\n        }\n      }\n      setIsLoading(false);\n    };\n\n    checkAuth();\n  }, []);\n\n  const login = async (email: string, password: string) => {\n    setIsLoading(true);\n    try {\n      const { data } = await axios.post(\"/api/auth/login\", {\n        email,\n        password,\n      });\n\n      const userData: User = data.user;\n      setUser(userData);\n      localStorage.setItem(\"user\", JSON.stringify(userData));\n\n      toast.success(\"Đăng nhập thành công\", `Chào mừng ${userData.name}!`);\n\n      // Redirect based on role\n      if (userData.role === \"ADMINISTRATOR\") {\n        router.push(`/${locale}/dashboard/admin`);\n      } else if (userData.role === \"TEACHER\") {\n        router.push(`/${locale}/dashboard/teacher/classes`);\n      } else {\n        router.push(`/${locale}/dashboard/student/classes`);\n      }\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      toast.error(\n        \"Đăng nhập thất bại\",\n        \"Vui lòng kiểm tra lại email và mật khẩu\"\n      );\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const logout = () => {\n    const userName = user?.name;\n    setUser(null);\n    localStorage.removeItem(\"user\");\n    toast.info(\"Đăng xuất thành công\", `Hẹn gặp lại ${userName}!`);\n    router.push(`/${locale}`);\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isLoading,\n        login,\n        logout,\n        isAuthenticated: !!user,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AA0BA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,QAAQ,IAAA,qIAAQ;IAEtB,+BAA+B;IAC/B,MAAM,SAAS,UAAU,MAAM,IAAI,CAAC,EAAE,IAAI;IAE1C,IAAA,kNAAS,EAAC;QACR,oEAAoE;QACpE,MAAM,YAAY;YAChB,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,IAAI,YAAY;gBACd,IAAI;oBACF,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,QAAQ;gBACV,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,gCAAgC;oBAC9C,aAAa,UAAU,CAAC;gBAC1B;YACF;YACA,aAAa;QACf;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAClC,aAAa;QACb,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,uHAAK,CAAC,IAAI,CAAC,mBAAmB;gBACnD;gBACA;YACF;YAEA,MAAM,WAAiB,KAAK,IAAI;YAChC,QAAQ;YACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAE5C,MAAM,OAAO,CAAC,wBAAwB,CAAC,UAAU,EAAE,SAAS,IAAI,CAAC,CAAC,CAAC;YAEnE,yBAAyB;YACzB,IAAI,SAAS,IAAI,KAAK,iBAAiB;gBACrC,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,gBAAgB,CAAC;YAC1C,OAAO,IAAI,SAAS,IAAI,KAAK,WAAW;gBACtC,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,0BAA0B,CAAC;YACpD,OAAO;gBACL,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,0BAA0B,CAAC;YACpD;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM,KAAK,CACT,sBACA;YAEF,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,SAAS;QACb,MAAM,WAAW,MAAM;QACvB,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,MAAM,IAAI,CAAC,wBAAwB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;QAC7D,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ;IAC1B;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA,iBAAiB,CAAC,CAAC;QACrB;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}}]
}