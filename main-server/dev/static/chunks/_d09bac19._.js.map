{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/nghiaphunng18/HustTutorial/ITSS.1.20251/components/features/interactive-slides/CheckpointEditorSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useForm, useFieldArray, useWatch } from \"react-hook-form\";\nimport { Plus, Trash2, Save, Clock, Trash } from \"lucide-react\"; // Import thêm Trash\nimport { CheckpointData, SaveCheckpointRequest } from \"@/types/presentation\";\n\ntype CheckpointFormValues = {\n  question: string;\n  options: { text: string }[];\n  correctAnswer: string[];\n  timeLimit: number;\n};\n\ninterface Props {\n  pageNumber: number;\n  existingCheckpoint?: CheckpointData;\n  onSave: (data: Omit<SaveCheckpointRequest, \"userId\">) => Promise<void>;\n  onDelete: () => Promise<void>; // Thêm prop này\n  isSaving: boolean;\n}\n\nexport default function CheckpointEditorSidebar({\n  pageNumber,\n  existingCheckpoint,\n  onSave,\n  onDelete, // Nhận prop\n  isSaving,\n}: Props) {\n  const { register, control, handleSubmit, reset, setValue } =\n    useForm<CheckpointFormValues>({\n      defaultValues: {\n        question: \"\",\n        options: [{ text: \"\" }, { text: \"\" }],\n        correctAnswer: [],\n        timeLimit: 30,\n      },\n    });\n\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: \"options\",\n  });\n\n  const currentCorrectAnswers = useWatch({\n    control,\n    name: \"correctAnswer\",\n    defaultValue: [],\n  });\n\n  useEffect(() => {\n    if (existingCheckpoint) {\n      reset({\n        question: existingCheckpoint.question,\n        options: existingCheckpoint.options.map((opt) => ({ text: opt.text })),\n        correctAnswer: existingCheckpoint.correctAnswer || [],\n        timeLimit: existingCheckpoint.timeLimit,\n      });\n    } else {\n      reset({\n        question: \"\",\n        options: [{ text: \"\" }, { text: \"\" }, { text: \"\" }, { text: \"\" }],\n        correctAnswer: [],\n        timeLimit: 30,\n      });\n    }\n  }, [existingCheckpoint, pageNumber, reset]);\n\n  const onSubmit = (data: CheckpointFormValues) => {\n    if (data.correctAnswer.length === 0) {\n      alert(\"Vui lòng chọn ít nhất một đáp án đúng!\");\n      return;\n    }\n\n    const formattedOptions = data.options.map((opt, index) => ({\n      id: String.fromCharCode(65 + index),\n      text: opt.text,\n    }));\n\n    const validIDs = formattedOptions.map((o) => o.id);\n    const cleanCorrectAnswers = data.correctAnswer.filter((id) =>\n      validIDs.includes(id)\n    );\n\n    const payload = {\n      pageNumber,\n      question: data.question,\n      options: formattedOptions,\n      correctAnswer: cleanCorrectAnswers,\n      timeLimit: Number(data.timeLimit),\n    };\n    onSave(payload);\n  };\n\n  const addOption = () => {\n    append({ text: \"\" });\n  };\n\n  const handleCheckboxChange = (id: string, checked: boolean) => {\n    const current = [...currentCorrectAnswers];\n    if (checked) {\n      setValue(\"correctAnswer\", [...current, id]);\n    } else {\n      setValue(\n        \"correctAnswer\",\n        current.filter((item) => item !== id)\n      );\n    }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-white border-l shadow-sm\">\n      <div className=\"p-4 border-b bg-gray-50\">\n        <h3 className=\"font-bold text-gray-800 flex items-center gap-2\">\n          <span className=\"bg-blue-600 text-white text-xs px-2 py-1 rounded\">\n            Trang {pageNumber}\n          </span>\n          {existingCheckpoint ? \"Chỉnh sửa câu hỏi\" : \"Thêm câu hỏi mới\"}\n        </h3>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-4 custom-scrollbar\">\n        <form\n          id=\"checkpoint-form\"\n          onSubmit={handleSubmit(onSubmit)}\n          className=\"space-y-5\"\n        >\n          {/* Câu hỏi */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Nội dung câu hỏi\n            </label>\n            <textarea\n              {...register(\"question\", { required: true })}\n              className=\"w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none min-h-20\"\n              placeholder=\"Nhập câu hỏi...\"\n            />\n          </div>\n\n          {/* Đáp án */}\n          <div>\n            <div className=\"flex justify-between items-center mb-2\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Các phương án (Chọn đáp án đúng)\n              </label>\n              <button\n                type=\"button\"\n                onClick={addOption}\n                className=\"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-700\"\n              >\n                <Plus size={14} /> Thêm\n              </button>\n            </div>\n\n            <div className=\"space-y-3\">\n              {fields.map((field, index) => {\n                const optionLabel = String.fromCharCode(65 + index);\n                const isChecked = currentCorrectAnswers.includes(optionLabel);\n\n                return (\n                  <div key={field.id} className=\"flex gap-2 items-start\">\n                    <div className=\"pt-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={isChecked}\n                        onChange={(e) =>\n                          handleCheckboxChange(optionLabel, e.target.checked)\n                        }\n                        className=\"w-4 h-4 text-blue-600 cursor-pointer rounded border-gray-300 focus:ring-blue-500\"\n                        title={`Chọn ${optionLabel} làm đáp án đúng`}\n                      />\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <span className=\"text-xs font-bold text-gray-500 w-4\">\n                          {optionLabel}.\n                        </span>\n                        <input\n                          {...register(`options.${index}.text` as const, {\n                            required: true,\n                          })}\n                          className={`flex-1 border rounded p-1.5 text-sm outline-none transition-colors ${\n                            isChecked\n                              ? \"border-blue-500 bg-blue-50\"\n                              : \"border-gray-300 focus:border-blue-500\"\n                          }`}\n                          placeholder={`Đáp án ${optionLabel}`}\n                        />\n                      </div>\n                    </div>\n                    {fields.length > 2 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => remove(index)}\n                        className=\"pt-2 text-gray-400 hover:text-red-500\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n            <p className=\"text-xs text-gray-500 mt-2 italic\">\n              * Hệ thống sẽ tự động gán nhãn A, B, C, D theo thứ tự.\n            </p>\n          </div>\n\n          {/* Thời gian */}\n          <div>\n            <label className=\"text-sm font-medium text-gray-700 mb-1 flex items-center gap-2\">\n              <Clock size={16} /> Thời gian trả lời (giây)\n            </label>\n            <input\n              type=\"number\"\n              {...register(\"timeLimit\", { min: 10, max: 300 })}\n              className=\"w-full border border-gray-300 rounded-md p-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none\"\n            />\n          </div>\n        </form>\n      </div>\n\n      <div className=\"p-4 border-t bg-gray-50 flex gap-2\">\n        {/* Nút Xóa (Chỉ hiện khi đã có câu hỏi cũ) */}\n        {existingCheckpoint && (\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (confirm(\"Bạn có chắc chắn muốn xóa câu hỏi này không?\")) {\n                onDelete();\n              }\n            }}\n            className=\"flex items-center justify-center bg-red-100 text-red-600 px-3 py-2.5 rounded-md hover:bg-red-200 transition\"\n            title=\"Xóa câu hỏi\"\n          >\n            <Trash size={18} />\n          </button>\n        )}\n\n        {/* Nút Lưu */}\n        <button\n          form=\"checkpoint-form\"\n          type=\"submit\"\n          disabled={isSaving}\n          className=\"flex-1 flex justify-center items-center gap-2 bg-blue-600 text-white py-2.5 rounded-md hover:bg-blue-700 font-medium transition disabled:opacity-50\"\n        >\n          {isSaving ? (\n            <span className=\"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full\" />\n          ) : (\n            <Save size={18} />\n          )}\n          {existingCheckpoint ? \"Cập nhật\" : \"Lưu câu hỏi\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 463, "column": 0}, "map": {"version":3,"sources":["file:///home/nghiaphunng18/HustTutorial/ITSS.1.20251/app/%5Blocale%5D/dashboard/teacher/presentations/%5Bid%5D/edit/page.tsx"],"sourcesContent":["\"use client\";\n\nimport dynamic from \"next/dynamic\";\n\nimport { useEffect, useState, useCallback } from \"react\";\nimport { useParams } from \"next/navigation\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport axios from \"@/lib/axios\";\nimport { Presentation, SaveCheckpointRequest } from \"@/types/presentation\";\nimport CheckpointEditorSidebar from \"@/components/features/interactive-slides/CheckpointEditorSidebar\";\nimport { ChevronLeft, ChevronRight, ArrowLeft } from \"lucide-react\";\nimport { useToast } from \"@/contexts/ToastContext\";\nimport Link from \"next/link\";\n\nconst PDFMainViewer = dynamic(\n  () => import(\"@/components/features/interactive-slides/PDFMainViewer\"),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"h-full flex items-center justify-center\">\n        Đang tải trình đọc...\n      </div>\n    ),\n  }\n);\n\nexport default function EditPresentationPage() {\n  const params = useParams();\n  const id = params?.id as string;\n  const locale = params?.locale as string;\n\n  const { user } = useAuth();\n  const toast = useToast();\n\n  const [presentation, setPresentation] = useState<Presentation | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [currPage, setCurrPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Load dữ liệu bài giảng\n  const fetchPresentation = useCallback(async () => {\n    try {\n      const res = await axios.get(`/api/presentations/${id}`);\n      setPresentation(res.data);\n    } catch (error) {\n      console.error(\"Failed to load presentation\", error);\n      toast.error(\"Lỗi\", \"Không thể tải bài giảng\");\n    } finally {\n      setLoading(false);\n    }\n  }, [id, toast]);\n\n  useEffect(() => {\n    fetchPresentation();\n  }, [fetchPresentation]);\n\n  // Handle lưu checkpoint\n  const handleSaveCheckpoint = async (\n    data: Omit<SaveCheckpointRequest, \"userId\">\n  ) => {\n    if (!user || !presentation) return;\n    setIsSaving(true);\n\n    try {\n      // Gọi API lưu\n      await axios.post(`/api/presentations/${presentation.id}/checkpoints`, {\n        ...data,\n        userId: user.id,\n      });\n\n      toast.success(\n        \"Thành công\",\n        \"Đã lưu câu hỏi cho trang \" + data.pageNumber\n      );\n\n      // Reload lại data để cập nhật list checkpoints\n      await fetchPresentation();\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Thất bại\", \"Không thể lưu câu hỏi\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Function to handle checkpoint removal\n  const handleDeleteCheckpoint = async () => {\n    if (!user || !presentation) return;\n    setIsSaving(true); // Tận dụng state loading\n\n    try {\n      // Gọi API DELETE với query param page và userId\n      await axios.delete(\n        `/api/presentations/${presentation.id}/checkpoints?page=${currPage}&userId=${user.id}`\n      );\n\n      toast.success(\"Đã xóa\", \"Câu hỏi đã được xóa khỏi trang này\");\n\n      // Reload data\n      await fetchPresentation();\n    } catch (error) {\n      console.error(error);\n      toast.error(\"Lỗi\", \"Không thể xóa câu hỏi\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Helper: Tìm xem trang hiện tại có checkpoint chưa\n  const currentCheckpoint = presentation?.checkpoints?.find(\n    (cp) => cp.pageNumber === currPage\n  );\n\n  if (loading)\n    return <div className=\"p-10 text-center\">Đang tải trình biên tập...</div>;\n  if (!presentation)\n    return (\n      <div className=\"p-10 text-center text-red-500\">\n        Bài giảng không tồn tại\n      </div>\n    );\n\n  return (\n    <div className=\"h-[calc(100vh-64px)] flex flex-col bg-gray-100 overflow-hidden\">\n      {/* 1. Topbar */}\n      <div className=\"h-14 bg-white border-b flex items-center justify-between px-4 shrink-0\">\n        <div className=\"flex items-center gap-3\">\n          <Link\n            href={`/${locale}/dashboard/teacher/presentations`}\n            className=\"p-2 hover:bg-gray-100 rounded-full text-gray-600\"\n          >\n            <ArrowLeft size={20} />\n          </Link>\n          <div>\n            <h1 className=\"font-bold text-gray-800 text-sm md:text-base truncate max-w-[300px]\">\n              {presentation.name}\n            </h1>\n            <p className=\"text-xs text-gray-500\">Chế độ biên tập</p>\n          </div>\n        </div>\n        {/* Pagination Controls (ở giữa) */}\n        <div className=\"flex items-center gap-4 bg-gray-50 px-3 py-1.5 rounded-lg border\">\n          <button\n            onClick={() => setCurrPage((p) => Math.max(1, p - 1))}\n            disabled={currPage <= 1}\n            className=\"p-1 hover:text-blue-600 disabled:text-gray-300 transition\"\n          >\n            <ChevronLeft size={24} />\n          </button>\n          <span className=\"font-medium text-gray-700 min-w-20 text-center select-none\">\n            Trang {currPage} / {totalPages || \"--\"}\n          </span>\n          <button\n            onClick={() => setCurrPage((p) => Math.min(totalPages, p + 1))}\n            disabled={currPage >= totalPages}\n            className=\"p-1 hover:text-blue-600 disabled:text-gray-300 transition\"\n          >\n            <ChevronRight size={24} />\n          </button>\n        </div>\n        <div className=\"w-[30px]\"></div> {/* Spacer để căn giữa pagination */}\n      </div>\n\n      {/* 2. Main Content (Split View) */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* LEFT: PDF Viewer */}\n        <div className=\"flex-1 p-6 overflow-auto bg-gray-100 flex justify-center\">\n          <div className=\"w-full max-w-4xl h-full flex flex-col\">\n            <PDFMainViewer\n              fileUrl={presentation.fileUrl}\n              currPage={currPage}\n              onLoadSuccess={(total) => setTotalPages(total)}\n            />\n          </div>\n        </div>\n\n        {/* RIGHT: Sidebar Editor */}\n        <div className=\"w-[350px] lg:w-[400px] shrink-0 h-full\">\n          <CheckpointEditorSidebar\n            pageNumber={currPage}\n            existingCheckpoint={currentCheckpoint}\n            onSave={handleSaveCheckpoint}\n            onDelete={handleDeleteCheckpoint}\n            isSaving={isSaving}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}